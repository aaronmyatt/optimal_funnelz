(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{851:function(t,r,n){"use strict";n.r(r);n(27);var e=n(4),o={mixins:[n(25).a],data:function(){return{summary:{customerAddress:{},customerShippingAddress:{}}}},mounted:function(){var t=Object(e.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOrderSummary();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{},methods:{setOrderDataLayer:function(){if(this.summary.transactions.length>0&&this.blok.upsell_number>0&&this.summary.transactions.length>=this.blok.upsell_number){window.dataLayer=window.dataLayer||[];var t=this.summary.transactions.map(function(t){return{sku:t.id,name:t.productName,category:t.digitalOrPhysical,price:t.total,quantity:1}});dataLayer.push({transactionId:this.summary.transactions[0].id,lineNumber:this.blok.upsell_number,linePaid:this.summary.transactions[this.blok.upsell_number-1].total,lineShipping:0,lineTax:0,lineAmount:this.summary.transactions[this.blok.upsell_number-1].total,totalPaid:this.summary.totalPaid,totalShipping:this.summary.shippingPaid,totalTax:this.summary.taxPaid,totalAmount:this.summary.total,event:"trackTrans",transactionProducts:t})}},getOrderSummary:function(){var t=this;return this.$axios.post(location.origin+"/storyblok-api/order-summary",{subscriptionId:this.$route.query.PSubscriptionID}).then(function(r){t.summary=r.data,t.setOrderDataLayer()})}}},m=n(2),component=Object(m.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null);r.default=component.exports}}]);